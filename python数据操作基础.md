# Python 基础 
### Numpy


》特性
- ndarray ,一个具有矢量算术运算和复杂广播能力的快速且节省空间的多维数组。
- 整组数据快速运算
- 读写磁盘数据、操作内存映射

》功能
- 数据整理、清理，子集构造、唯一化、集合运算。
- 数组算法 - 排序、唯一化、集合运算
- 异构数据合并、连接，数据对齐和关系型数据运算
- 数据的分组运算

运算比原生python快
原因：在一个连续内存中存储数据，使用内存少，独立于其他python内置对象，可以整个数组计算。


numpy数组对象 =》ndarray

一般引用
```python
import numpy as np
```

np.zeros() - generate target shape matrix with value 0
np.ones()  same as above
np.empty() - sometimes it returns with undefined trash value    not always 0

np.arange(15)  -> ([0,1,2,.....14])

#### **dtype** 
- mostly float64

np.array([1,2,3],dtype=np.float64)

int8,int16,int32,int64
float16,float32,float64,float128
complex64  bool object string_  unicode

**类型转换** 
float_arr=arr.astype(np.float64)

string_类型长度固定 过长会被截掉

#### 数组运算

切片 [stat : end : steps]

数据字典  update（）更新字典为新字典

#### 内存管理机制

引入计数、垃圾回收、内存池

* **引入计数**

1、变量，通过变量指针引用对象，变量指针指向具体对象的内存空间，取对象的值。
2、对象，类型已知，每个对象都包含一个头部信息（头部信息：类型标识符和引用计数器），变量名没有类型，类型属于对象（因为变量引用对象，所以类型随对象），变量引用什么类型的对象，变量就是什么类型的。
引用所指判断 ： 通过is进行引用所指判断，is是用来判断两个引用所指的对象是否相同
每个对象都有指向该对象的引用总数---引用计数

**引用计数增加的几种情况**
1.对象被创建
2.作为容器对象的一个元素
3.被作为参数传递给函数
**引用计数减少的几种情况**
1.对象的别名被显式的销毁
2.对象从一个窗口对象中移除，或，窗口对象本身被销毁
3.一个本地引用离开了它的作用域，比如上面的foo(x)函数结束时，x指向的对象引用减1


* **垃圾回收**
当Python的某个对象的引用计数降为0时，说明没有任何引用指向该对象，该对象就成为要被回收的垃圾。比如某个新建对象，被分配给某个引用，对象的引用计数变为1。如果引用被删除，对象的引用计数为0，那么该对象就可以被垃圾回收。

del后，用户不可能通过任何方式接触或者动用这个对象，当垃圾回收启动时，Python扫描到这个引用计数为0的对象，就将它所占据的内存清空。

Python只会在特定条件下，自动启动垃圾回收（垃圾对象少就没必要回收）当Python运行时，会记录其中分配对象(object allocation)和取消分配对象(object deallocation)的次数。当两者的差值高于某个阈值时，垃圾回收才会启动。

700即是垃圾回收启动的阈值；每10次0代垃圾回收，会配合1次1代的垃圾回收；而每10次1代的垃圾回收，才会有1次的2代垃圾回收；Python将所有的对象分为0，1，2三代；所有的新建对象都是0代对象；当某一代对象经历过垃圾回收，依然存活，就被归入下一代对象。
　　
* **内存池**
Python中有分为大内存和小内存：（256K为界限分大小内存）
1、大内存使用malloc进行分配
2、小内存使用内存池进行分配

**Python的内存池(金字塔)**
第3层：最上层，用户对Python对象的直接操作

第1层和第2层：内存池，有Python的接口函数PyMem_Malloc实现-----若请求分配的内存在1~256字节之间就使用内存池管理系统进行分配，调用malloc函数分配内存，但是每次只会分配一块大小为256K的大块内存，不会调用free函数释放内存，将该内存块留在内存池中以便下次使用。

第0层：大内存-----若请求分配的内存大于256K，malloc函数分配内存，free函数释放内存。

第-1，-2层：操作系统进行操作



### 数据清洗

